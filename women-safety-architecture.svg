<?xml version="1.0" encoding="UTF-8"?>
<svg width="1600" height="1000" xmlns="http://www.w3.org/2000/svg">

<style>
    .title { fill:#58a6ff; font-size:40px; font-family:Arial; font-weight:bold; }
    .sectionTitle { fill:#58a6ff; font-size:20px; font-family:Arial; font-weight:bold; }
    .text { fill:#c9d1d9; font-size:16px; font-family:Arial; }
    .box { fill:#0d1117; stroke:#58a6ff; stroke-width:2; rx:15; }
    .arrow { stroke:#58a6ff; stroke-width:2; marker-end:url(#arrowhead); }
</style>

<defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" 
        refX="10" refY="3.5" orient="auto">
        <polygon points="0 0, 10 3.5, 0 7" fill="#58a6ff"/>
    </marker>
</defs>

<rect width="100%" height="100%" fill="#000814"/>

<text x="400" y="70" class="title">
Real-Time Women Safety System – Complete Architecture
</text>

<!-- ANDROID CLIENT -->
<rect x="80" y="140" width="450" height="620" class="box"/>
<text x="100" y="170" class="sectionTitle">Android Client (Kotlin + MVVM + Compose)</text>

<text x="100" y="210" class="text">• Jetpack Compose UI</text>
<text x="100" y="240" class="text">• ViewModels (SOS, Chat, Auth)</text>
<text x="100" y="270" class="text">• Repository Layer</text>
<text x="100" y="300" class="text">• Retrofit REST Client</text>

<text x="100" y="340" class="text">Foreground Services:</text>
<text x="120" y="370" class="text">- Real-Time Location Tracking</text>

<text x="100" y="410" class="text">Emergency Trigger Manager:</text>
<text x="120" y="440" class="text">- Accelerometer (Shake Detection)</text>
<text x="120" y="470" class="text">- Volume Key Double Press</text>

<text x="100" y="510" class="text">Flow:</text>
<text x="120" y="540" class="text">1. Capture Location</text>
<text x="120" y="570" class="text">2. Start Foreground Service</text>
<text x="120" y="600" class="text">3. Send Location to Backend</text>

<!-- FIREBASE -->
<rect x="650" y="180" width="300" height="220" class="box"/>
<text x="670" y="210" class="sectionTitle">Firebase</text>
<text x="670" y="250" class="text">• Authentication</text>
<text x="670" y="280" class="text">• Firestore (User Data)</text>
<text x="670" y="310" class="text">• Future: SOS Logs &amp; History</text>

<!-- BACKEND -->
<rect x="650" y="450" width="400" height="350" class="box"/>
<text x="670" y="480" class="sectionTitle">FastAPI Backend (Python)</text>

<text x="670" y="520" class="text">• SOS Handler API</text>
<text x="670" y="550" class="text">• Chatbot Engine (AI)</text>
<text x="670" y="580" class="text">• SMS Gateway Integration</text>
<text x="670" y="610" class="text">• WhatsApp API (Twilio)</text>
<text x="670" y="640" class="text">• Secure Path ML Service</text>
<text x="670" y="670" class="text">• MongoDB Database Operations</text>
<text x="670" y="700" class="text">• Continuous Location Updates</text>

<text x="670" y="740" class="text">Deployment:</text>
<text x="690" y="770" class="text">• Currently Localhost</text>
<text x="690" y="800" class="text">• Future: Cloud Deployment</text>

<!-- DATABASE -->
<rect x="1150" y="450" width="300" height="180" class="box"/>
<text x="1170" y="480" class="sectionTitle">MongoDB</text>
<text x="1170" y="520" class="text">• User Data</text>
<text x="1170" y="550" class="text">• SOS Records</text>
<text x="1170" y="580" class="text">• Chat Logs</text>

<!-- EXTERNAL SERVICES -->
<rect x="1150" y="150" width="300" height="220" class="box"/>
<text x="1170" y="180" class="sectionTitle">External APIs</text>
<text x="1170" y="220" class="text">• Twilio SMS</text>
<text x="1170" y="250" class="text">• WhatsApp Messaging</text>
<text x="1170" y="280" class="text">• Google Maps API</text>

<!-- ARROWS -->
<line x1="530" y1="300" x2="650" y2="300" class="arrow"/>
<line x1="530" y1="500" x2="650" y2="600" class="arrow"/>
<line x1="1050" y1="600" x2="1150" y2="550" class="arrow"/>
<line x1="1050" y1="550" x2="1150" y2="250" class="arrow"/>

</svg>
